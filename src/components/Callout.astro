---
/**
 * Callout Component
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * An info/warning/tip box used inside MDX lessons to highlight important information.
 * Supports four variants: info (default), tip, warning, danger.
 *
 * Usage in MDX:
 *   import Callout from '../../components/Callout.astro';
 *   <Callout type="tip" title="Pro tip">
 *     This is a helpful tip!
 *   </Callout>
 *
 * This demonstrates named props + <slot /> for children content â€” a pattern
 * that's equivalent to React's { children } but uses the web-standard slot API.
 *
 * @see Lesson 1.3 (Astro Components) for props and slots.
 * @see Lesson 3.3 (MDX) for using Astro components inside MDX.
 */
interface Props {
  type?: 'info' | 'tip' | 'warning' | 'danger';
  title?: string;
}

const { type = 'info', title } = Astro.props;

const icons: Record<string, string> = {
  info: 'â„¹ï¸',
  tip: 'ğŸ’¡',
  warning: 'âš ï¸',
  danger: 'ğŸš¨',
};

const defaultTitles: Record<string, string> = {
  info: 'Note',
  tip: 'Tip',
  warning: 'Warning',
  danger: 'Important',
};
---

<div class:list={['callout', `callout-${type}`]}>
  <div class="callout-header">
    <span class="callout-icon">{icons[type]}</span>
    <span class="callout-title">{title || defaultTitles[type]}</span>
  </div>
  <div class="callout-content">
    <!-- <slot /> renders the content placed between <Callout> tags in MDX -->
    <slot />
  </div>
</div>

<style>
  .callout {
    border-radius: var(--border-radius);
    padding: var(--space-4) var(--space-6);
    margin: var(--space-6) 0;
    border-left: 4px solid;
  }

  .callout-info {
    background: rgba(88, 166, 255, 0.08);
    border-color: var(--color-info);
  }

  .callout-tip {
    background: rgba(63, 185, 80, 0.08);
    border-color: var(--color-success);
  }

  .callout-warning {
    background: rgba(210, 153, 34, 0.08);
    border-color: var(--color-warning);
  }

  .callout-danger {
    background: rgba(248, 81, 73, 0.08);
    border-color: var(--color-danger);
  }

  .callout-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-2);
    font-weight: 600;
    font-size: var(--font-size-sm);
  }

  .callout-content {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
  }

  .callout-content :global(p:last-child) {
    margin-bottom: 0;
  }
</style>
