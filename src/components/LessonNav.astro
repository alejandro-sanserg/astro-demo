---
/**
 * LessonNav Component
 * ───────────────────
 * Renders "Previous" and "Next" links at the bottom of each lesson.
 * This is a simple Astro component that receives props and renders HTML.
 *
 * @see Lesson 1.3 (Astro Components) for props and conditional rendering.
 */
import { url } from '../utils/paths';

interface Props {
  prev: { slug: string; title: string } | null;
  next: { slug: string; title: string } | null;
}

const { prev, next } = Astro.props;
---

<nav class="lesson-nav" aria-label="Lesson navigation">
  {prev ? (
    <a href={url(`/lessons/${prev.slug}/`)} class="nav-link prev">
      <span class="nav-direction">← Previous</span>
      <span class="nav-title">{prev.title}</span>
    </a>
  ) : (
    <div />
  )}

  {next ? (
    <a href={url(`/lessons/${next.slug}/`)} class="nav-link next">
      <span class="nav-direction">Next →</span>
      <span class="nav-title">{next.title}</span>
    </a>
  ) : (
    <a href={url('/lessons/')} class="nav-link next">
      <span class="nav-direction">Back to</span>
      <span class="nav-title">All Lessons</span>
    </a>
  )}
</nav>

<style>
  .lesson-nav {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-4);
    margin-top: var(--space-8);
  }

  .nav-link {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    padding: var(--space-4);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
    text-decoration: none;
    transition: all var(--transition-fast);
  }

  .nav-link:hover {
    border-color: var(--color-accent);
    background: var(--color-accent-subtle);
    text-decoration: none;
  }

  .nav-link.next {
    text-align: right;
  }

  .nav-direction {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
  }

  .nav-title {
    font-weight: 600;
    color: var(--color-text);
  }

  @media (max-width: 480px) {
    .lesson-nav {
      grid-template-columns: 1fr;
    }
  }
</style>
